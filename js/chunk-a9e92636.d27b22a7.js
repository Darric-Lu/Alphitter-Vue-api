(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9e92636"],{"07bf":function(t,e,n){},"26f0":function(t,e,n){},3292:function(t,e,n){"use strict";n("07bf")},"6b3a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-xxl"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("AdminSideBar",{attrs:{active:t.active}})],1),n("div",{staticClass:"col-10"},[n("AdminTwitterCardTable",{attrs:{"initial-tweets":t.tweets}})],1)])])},a=[],i=n("1da1"),r=(n("96cf"),n("754d")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapping"},[n("div",{staticClass:"twitter-title fw-bold"},[t._v("推文清單")]),n("div",{staticClass:"wrapping-tweets"},t._l(t.tweets,(function(e){return n("div",{key:e.id,staticClass:"tweet d-flex"},[n("div",{staticClass:"tweet-img"},[n("img",{staticClass:"tweet-img-user",attrs:{src:e.User?e.User.avatar:"未顯示",alt:e.User?e.User.name:"未顯示"}})]),n("div",{staticClass:"tweet-content"},[n("div",{staticClass:"tweet-content-info"},[n("span",[n("span",{staticClass:"tweet-content-name"},[t._v(t._s(e.User?e.User.name:"未顯示"))]),n("span",{staticClass:"tweet-content-account"},[t._v("@"+t._s(e.User?e.User.account:"未顯示"))]),t._v(" ‧ "),n("span",{staticClass:"tweet-content-time"},[t._v(t._s(t._f("fromNow")(e.User?e.User.updatedAt:"未顯示")))])])]),n("p",[t._v(" "+t._s(e.description)+" ")])]),n("div",{staticClass:"delete-btn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deleteTweet(e.id)}}})])})),0)])},o=[],l=n("2909"),u=(n("99af"),n("4de4"),n("2708")),d=n("2fa3"),f=n("be6c"),w={mixins:[u["a"]],props:{initialTweets:{type:Array,require:!0}},data:function(){return{tweets:[]}},watch:{initialTweets:function(t){this.tweets=[].concat(Object(l["a"])(this.tweets),Object(l["a"])(t))}},created:function(){this.tweets=this.initialTweets.filter((function(t){return t}))},methods:{deleteTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f["a"].deleteAdminTweet(t);case 3:if(s=n.sent,a=s.data,"success"===a.status){n.next=7;break}throw Error(a.message);case 7:e.tweets=e.tweets.filter((function(e){return e.id!==t})),d["c"].fire({icon:"success",title:"You delete this tweet successfully!"}),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),d["c"].fire({icon:"error",title:"Oh sad, you can't delete the tweet. Try later!"});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}}},m=w,v=(n("3292"),n("2877")),p=Object(v["a"])(m,c,o,!1,null,"147f22b9",null),h=p.exports,C={name:"AdminTwitterPage",components:{AdminSideBar:r["a"],AdminTwitterCardTable:h},data:function(){return{tweets:[],active:{twitterContent:"active",userContent:"row"}}},created:function(){this.fetchAllTweets()},methods:{fetchAllTweets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].getAdminTweets();case 3:n=e.sent,t.tweets=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),d["c"].fire({icon:"error",title:"無法拿到資料捏，請稍後再試～"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},g=C,b=(n("7160"),Object(v["a"])(g,s,a,!1,null,"d67fbe9a",null));e["default"]=b.exports},7160:function(t,e,n){"use strict";n("85dc")},"754d":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"d-flex flex-column wrapping"},[t._m(0),n("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-twitter"}}},[n("div",{staticClass:"twitter row mt-4 d-flex justify-content-center",class:t.active.twitterContent},[n("div",{staticClass:"twitter-icon col-2"},[n("font-awesome-icon",{attrs:{icon:"home"}})],1),n("div",{staticClass:"twitter-content col-8 d-none d-md-block"},[n("p",[t._v("推文清單")])])])]),n("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-users"}}},[n("div",{staticClass:"userCard row mt-3 d-flex justify-content-center",class:t.active.userContent},[n("div",{staticClass:"userCard-icon col-2"},[n("font-awesome-icon",{attrs:{icon:"user"}})],1),n("div",{staticClass:"userCard-content col-8 d-none d-md-block"},[n("p",[t._v("使用者列表")])])])]),n("div",{staticClass:"mt-auto sign-out"},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-users"}}},[n("div",{staticClass:"logout row mt-3 d-flex justify-content-center"},[n("div",{staticClass:"logout-icon col-2"},[n("font-awesome-icon",{attrs:{icon:"sign-in-alt"}})],1),n("div",{staticClass:"userCard-content col-8 d-none d-md-block",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout(e)}}},[n("p",[t._v("登出")])])])])],1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"twitter row mt-4 d-flex justify-content-center"},[n("div",{staticClass:"twitter-icon col-2 me-3 me-md-0 ms-md-3"},[n("img",{staticClass:"logo-img",attrs:{src:"https://avatars.githubusercontent.com/u/8667311?s=200&v=4",alt:"ALPHAcamp logo"}})]),n("div",{staticClass:"twitter-content col-8 d-none d-md-block"})])}],i={name:"AdminSideBar",props:{active:{type:Object,default:function(){return{twitterContent:"",userContent:""}}}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/signin")}}},r=i,c=(n("8153"),n("2877")),o=Object(c["a"])(r,s,a,!1,null,"a3554000",null);e["a"]=o.exports},8153:function(t,e,n){"use strict";n("26f0")},"85dc":function(t,e,n){},"99af":function(t,e,n){"use strict";var s=n("23e7"),a=n("d039"),i=n("e8b5"),r=n("861d"),c=n("7b0b"),o=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),w=n("2d00"),m=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",h=w>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),C=d("concat"),g=function(t){if(!r(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},b=!h||!C;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,s,a,i,r=c(this),d=u(r,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?r:arguments[e],g(i)){if(a=o(i.length),f+a>v)throw TypeError(p);for(n=0;n<a;n++,f++)n in i&&l(d,f,i[n])}else{if(f>=v)throw TypeError(p);l(d,f++,i)}return d.length=f,d}})},be6c:function(t,e,n){"use strict";var s=n("2fa3"),a=function(){return localStorage.getItem("token")};e["a"]={getAdminTweets:function(){return s["d"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(a())}})},deleteAdminTweet:function(t){return s["d"].delete("/admin/tweets/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getAdminUsers:function(){return s["d"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(a())}})}}}}]);
//# sourceMappingURL=chunk-a9e92636.d27b22a7.js.map